--===[ GUI Roblox Recorder - Modern Design ]===--
local HttpService = game:GetService("HttpService")
local TweenService = game:GetService("TweenService")
local player = game.Players.LocalPlayer
local screenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
screenGui.ResetOnSpawn = false

-- Modern Color Scheme - Warna lebih terang
local ColorMain = Color3.fromRGB(35, 35, 45)
local ColorHeader = Color3.fromRGB(50, 50, 70)
local ColorCard = Color3.fromRGB(45, 45, 60)
local ColorButtonNormal = Color3.fromRGB(80, 140, 255)       -- Biru lebih terang
local ColorButtonHover = Color3.fromRGB(100, 160, 255)      -- Biru lebih terang saat hover
local ColorButtonActive = Color3.fromRGB(70, 200, 120)      -- Hijau terang
local ColorButtonDanger = Color3.fromRGB(255, 100, 100)     -- Merah lebih terang
local ColorButtonRepeat = Color3.fromRGB(170, 110, 230)     -- Ungu lebih terang
local ColorButtonRepeatActive = Color3.fromRGB(80, 210, 130) -- Hijau lebih terang
local ColorText = Color3.fromRGB(255, 255, 255)             -- Putih murni
local ColorAccent = Color3.fromRGB(100, 180, 255)           -- Biru accent terang
local ColorSuccess = Color3.fromRGB(90, 220, 140)           -- Hijau success terang

-- Main Frame modern design
local mainFrame = Instance.new("Frame", screenGui)
mainFrame.Size = UDim2.new(0, 320, 0, 400)
mainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
mainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.BackgroundColor3 = ColorMain
mainFrame.BackgroundTransparency = 0

local mainCorner = Instance.new("UICorner", mainFrame)
mainCorner.CornerRadius = UDim.new(0, 16)

-- Modern shadow effect
local shadow = Instance.new("Frame", mainFrame)
shadow.Size = UDim2.new(1, 8, 1, 8)
shadow.Position = UDim2.new(0, -4, 0, -4)
shadow.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
shadow.BackgroundTransparency = 0.7
shadow.ZIndex = -1
local shadowCorner = Instance.new("UICorner", shadow)
shadowCorner.CornerRadius = UDim.new(0, 18)

-- Header modern - TANPA SUBTITLE
local header = Instance.new("Frame", mainFrame)
header.Size = UDim2.new(1, 0, 0, 50)
header.BackgroundColor3 = ColorHeader
header.BorderSizePixel = 0

local headerCorner = Instance.new("UICorner", header)
headerCorner.CornerRadius = UDim.new(0, 16)

local title = Instance.new("TextLabel", header)
title.Size = UDim2.new(0, 200, 1, 0)
title.Position = UDim2.new(0, 20, 0, 0)
title.Text = "üéÆ JSY RECORDER"
title.TextColor3 = ColorText
title.BackgroundTransparency = 1
title.Font = Enum.Font.GothamBlack
title.TextSize = 18
title.TextXAlignment = Enum.TextXAlignment.Left

-- Modern Button Function dengan warna lebih terang
local function createModernButton(parent, text, position, size, color, icon, isIconOnly)
    local btn = Instance.new("TextButton", parent)
    btn.Size = size
    btn.Position = position
    btn.Text = isIconOnly and icon or (icon .. "  " .. text)
    btn.BackgroundColor3 = color
    btn.TextColor3 = ColorText
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = isIconOnly and 16 or 13  -- Text lebih besar
    btn.AutoButtonColor = false
    btn.BorderSizePixel = 0
    
    local btnCorner = Instance.new("UICorner", btn)
    btnCorner.CornerRadius = UDim.new(0, 12)  -- Corner lebih besar
    
    -- Modern gradient effect dengan warna lebih terang
    local gradient = Instance.new("UIGradient", btn)
    gradient.Rotation = 90
    local lighterColor = Color3.new(
        math.min(color.R * 1.3, 1),
        math.min(color.G * 1.3, 1),
        math.min(color.B * 1.3, 1)
    )
    gradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, lighterColor),
        ColorSequenceKeypoint.new(1, color)
    })
    
    -- Glow effect
    local glow = Instance.new("Frame", btn)
    glow.Size = UDim2.new(1, 4, 1, 4)
    glow.Position = UDim2.new(0, -2, 0, -2)
    glow.BackgroundColor3 = color
    glow.BackgroundTransparency = 0.8
    glow.ZIndex = -1
    local glowCorner = Instance.new("UICorner", glow)
    glowCorner.CornerRadius = UDim.new(0, 14)
    
    -- Modern hover effects
    btn.MouseEnter:Connect(function()
        TweenService:Create(btn, TweenInfo.new(0.2), {
            Size = size + UDim2.new(0, 4, 0, 4),
            BackgroundColor3 = lighterColor
        }):Play()
        TweenService:Create(glow, TweenInfo.new(0.2), {
            BackgroundTransparency = 0.6,
            Size = UDim2.new(1, 8, 1, 8),
            Position = UDim2.new(0, -4, 0, -4)
        }):Play()
    end)
    
    btn.MouseLeave:Connect(function()
        TweenService:Create(btn, TweenInfo.new(0.2), {
            Size = size,
            BackgroundColor3 = color
        }):Play()
        TweenService:Create(glow, TweenInfo.new(0.2), {
            BackgroundTransparency = 0.8,
            Size = UDim2.new(1, 4, 1, 4),
            Position = UDim2.new(0, -2, 0, -2)
        }):Play()
    end)
    
    btn.MouseButton1Down:Connect(function()
        TweenService:Create(btn, TweenInfo.new(0.1), {
            Size = size - UDim2.new(0, 2, 0, 2)
        }):Play()
    end)
    
    btn.MouseButton1Up:Connect(function()
        TweenService:Create(btn, TweenInfo.new(0.1), {
            Size = size
        }):Play()
    end)
    
    return btn
end

-- Header Buttons modern - lebih besar dan terang
local closeBtn = createModernButton(header, "", UDim2.new(1, -45, 0.5, -14), UDim2.new(0, 30, 0, 30), ColorButtonDanger, "‚ùå", true)
local hideBtn = createModernButton(header, "", UDim2.new(1, -85, 0.5, -14), UDim2.new(0, 30, 0, 30), Color3.fromRGB(255, 190, 70), "‚èèÔ∏è", true)

-- Control Section modern
local controlSection = Instance.new("Frame", mainFrame)
controlSection.Size = UDim2.new(1, -24, 0, 110)
controlSection.Position = UDim2.new(0, 12, 0, 60)
controlSection.BackgroundColor3 = ColorCard
controlSection.BackgroundTransparency = 0

local controlCorner = Instance.new("UICorner", controlSection)
controlCorner.CornerRadius = UDim.new(0, 14)

-- Section title
local controlTitle = Instance.new("TextLabel", controlSection)
controlTitle.Size = UDim2.new(1, 0, 0, 24)
controlTitle.Position = UDim2.new(0, 15, 0, 8)
controlTitle.Text = "CONTROLS"
controlTitle.TextColor3 = ColorAccent
controlTitle.BackgroundTransparency = 1
controlTitle.Font = Enum.Font.GothamBold
controlTitle.TextSize = 14  -- Lebih besar
controlTitle.TextXAlignment = Enum.TextXAlignment.Left

-- Control Buttons modern - LEBIH BESAR dan TERANG
local recordBtn = createModernButton(controlSection, "RECORD", UDim2.new(0, 15, 0, 35), UDim2.new(0.46, 0, 0, 32), ColorButtonNormal, "‚è∫Ô∏è", false)
local stopBtn = createModernButton(controlSection, "STOP", UDim2.new(0.52, 0, 0, 35), UDim2.new(0.46, 0, 0, 32), ColorButtonDanger, "‚èπÔ∏è", false)

local modeBtn = createModernButton(controlSection, "WALK MODE", UDim2.new(0, 15, 0, 75), UDim2.new(0.46, 0, 0, 32), ColorButtonActive, "üö∂", false)
local respawnBtn = createModernButton(controlSection, "AUTO RESPAWN", UDim2.new(0.52, 0, 0, 75), UDim2.new(0.46, 0, 0, 32), Color3.fromRGB(90, 170, 250), "üîÑ", false)

-- Timer Section modern
local timerSection = Instance.new("Frame", mainFrame)
timerSection.Size = UDim2.new(1, -24, 0, 70)
timerSection.Position = UDim2.new(0, 12, 0, 180)
timerSection.BackgroundColor3 = ColorCard
timerSection.BackgroundTransparency = 0

local timerCorner = Instance.new("UICorner", timerSection)
timerCorner.CornerRadius = UDim.new(0, 14)

local timerTitle = Instance.new("TextLabel", timerSection)
timerTitle.Size = UDim2.new(1, -24, 0, 22)
timerTitle.Position = UDim2.new(0, 15, 0, 8)
timerTitle.Text = "RECORDING TIMER"
timerTitle.TextColor3 = Color3.fromRGB(200, 200, 220)  -- Lebih terang
timerTitle.BackgroundTransparency = 1
timerTitle.Font = Enum.Font.GothamBold  -- Font lebih tebal
timerTitle.TextSize = 12
timerTitle.TextXAlignment = Enum.TextXAlignment.Left

local timerLabel = Instance.new("TextLabel", timerSection)
timerLabel.Size = UDim2.new(1, -24, 0, 36)
timerLabel.Position = UDim2.new(0, 15, 0, 30)
timerLabel.BackgroundTransparency = 1
timerLabel.Text = "00:00.00"
timerLabel.TextColor3 = ColorAccent
timerLabel.Font = Enum.Font.GothamBlack
timerLabel.TextSize = 24  -- Lebih besar
timerLabel.TextXAlignment = Enum.TextXAlignment.Left

-- Recording Display modern
local recordingSection = Instance.new("Frame", mainFrame)
recordingSection.Size = UDim2.new(1, -24, 0, 130)
recordingSection.Position = UDim2.new(0, 12, 0, 260)
recordingSection.BackgroundColor3 = ColorCard
recordingSection.BackgroundTransparency = 0

local recordingCorner = Instance.new("UICorner", recordingSection)
recordingCorner.CornerRadius = UDim.new(0, 14)

local recordingTitle = Instance.new("TextLabel", recordingSection)
recordingTitle.Size = UDim2.new(1, -24, 0, 24)
recordingTitle.Position = UDim2.new(0, 15, 0, 8)
recordingTitle.Text = "CURRENT RECORDING"
recordingTitle.TextColor3 = ColorAccent
recordingTitle.BackgroundTransparency = 1
recordingTitle.Font = Enum.Font.GothamBold
recordingTitle.TextSize = 14  -- Lebih besar
recordingTitle.TextXAlignment = Enum.TextXAlignment.Left

-- Area untuk recording content
local recordingContent = Instance.new("Frame", recordingSection)
recordingContent.Size = UDim2.new(1, -24, 0, 90)
recordingContent.Position = UDim2.new(0, 12, 0, 35)
recordingContent.BackgroundTransparency = 1
recordingContent.ClipsDescendants = true

-- Default state dengan font lebih jelas
local noRecordingLabel = Instance.new("TextLabel", recordingContent)
noRecordingLabel.Size = UDim2.new(1, 0, 1, 0)
noRecordingLabel.BackgroundTransparency = 1
noRecordingLabel.Text = "No active recording\nClick RECORD to start capturing"
noRecordingLabel.TextColor3 = Color3.fromRGB(160, 160, 180)  -- Lebih terang
noRecordingLabel.Font = Enum.Font.GothamMedium
noRecordingLabel.TextSize = 13  -- Lebih besar
noRecordingLabel.TextWrapped = true

-- Mini Button modern - lebih besar dan terang
local miniBtn = createModernButton(screenGui, "RECORDER", UDim2.new(0, 20, 0, 120), UDim2.new(0, 140, 0, 40), ColorButtonNormal, "‚è∫Ô∏è", false)
miniBtn.Visible = false
miniBtn.Active = true
miniBtn.Draggable = true

-- ==================== LOGIC ====================
local char = player.Character or player.CharacterAdded:Wait()
local humanoid = char:WaitForChild("Humanoid")
local hrp = char:WaitForChild("HumanoidRootPart")

player.CharacterAdded:Connect(function(newChar)
	char = newChar
	humanoid = char:WaitForChild("Humanoid")
	hrp = char:WaitForChild("HumanoidRootPart")
end)

local recording = false
local recordData = {}
local startTime = 0
local timerRunning = false
local replaying = false
local useCFrameMode = false
local autoRespawn = true
local currentRecordingName = nil

local playerScripts = player:WaitForChild("PlayerScripts")
if not playerScripts:FindFirstChild("SavedRecords") then
	local savedFolder = Instance.new("Folder")
	savedFolder.Name = "SavedRecords"
	savedFolder.Parent = playerScripts
end
local savedFolder = playerScripts:FindFirstChild("SavedRecords")

humanoid.Jumping:Connect(function(active)
	if recording and active then
		table.insert(recordData,{pos=hrp.Position,jump=true,time=tick()-startTime})
	end
end)

-- Stopwatch Timer
local function runStopwatch()
	while timerRunning do
		local elapsed = tick()-startTime
		local mins = math.floor(elapsed/60)
		local secs = math.floor(elapsed%60)
		local ms = math.floor((elapsed - math.floor(elapsed))*100)
		timerLabel.Text = string.format("%02d:%02d.%02d",mins,secs,ms)
		task.wait(0.03)
	end
end

-- Tampilkan recording dengan tombol modern yang lebih terang
local function displayRecording(data, name)
    for _, child in ipairs(recordingContent:GetChildren()) do
        child:Destroy()
    end
    
    currentRecordingName = name
    
    -- Recording info dengan font yang lebih jelas
    local nameLabel = Instance.new("TextLabel", recordingContent)
    nameLabel.Size = UDim2.new(0.65, -5, 0.4, 0)
    nameLabel.Position = UDim2.new(0, 0, 0, 5)
    nameLabel.Text = "üìÅ " .. name
    nameLabel.BackgroundTransparency = 1
    nameLabel.TextColor3 = ColorText
    nameLabel.Font = Enum.Font.GothamBold
    nameLabel.TextSize = 13  -- Lebih besar
    nameLabel.TextXAlignment = Enum.TextXAlignment.Left
    nameLabel.TextWrapped = true

    -- Info duration dengan font lebih jelas
    local duration = data[#data] and data[#data].time or 0
    local durationLabel = Instance.new("TextLabel", recordingContent)
    durationLabel.Size = UDim2.new(0.65, -5, 0.3, 0)
    durationLabel.Position = UDim2.new(0, 0, 0, 45)
    durationLabel.Text = string.format("‚è±Ô∏è %02d:%02d | üìä %d frames", math.floor(duration/60), math.floor(duration%60), #data)
    durationLabel.BackgroundTransparency = 1
    durationLabel.TextColor3 = Color3.fromRGB(200, 200, 220)  -- Lebih terang
    durationLabel.Font = Enum.Font.GothamMedium
    durationLabel.TextSize = 11  -- Lebih besar
    durationLabel.TextXAlignment = Enum.TextXAlignment.Left

    -- Button container
    local buttonContainer = Instance.new("Frame", recordingContent)
    buttonContainer.Size = UDim2.new(0.35, 0, 0.8, 0)
    buttonContainer.Position = UDim2.new(0.65, 0, 0.1, 0)
    buttonContainer.BackgroundTransparency = 1

    -- Modern Action Buttons - LEBIH BESAR dan TERANG
    local playBtn = createModernButton(buttonContainer, "PLAY", UDim2.new(0, 0, 0, 0), UDim2.new(1, 0, 0.3, 0), ColorSuccess, "‚ñ∂Ô∏è", false)
    local repeatBtn = createModernButton(buttonContainer, "REPEAT", UDim2.new(0, 0, 0.35, 0), UDim2.new(1, 0, 0.3, 0), ColorButtonRepeat, "üîÅ", false)
    local delBtn = createModernButton(buttonContainer, "DELETE", UDim2.new(0, 0, 0.7, 0), UDim2.new(1, 0, 0.3, 0), ColorButtonDanger, "üóëÔ∏è", false)

    -- REPEAT BUTTON LOGIC
    local localRepeatMode = false
    
    repeatBtn.MouseButton1Click:Connect(function()
        localRepeatMode = not localRepeatMode
        if localRepeatMode then
            TweenService:Create(repeatBtn, TweenInfo.new(0.3), {
                BackgroundColor3 = ColorButtonRepeatActive
            }):Play()
            repeatBtn.Text = "‚úÖ REPEAT"
        else
            TweenService:Create(repeatBtn, TweenInfo.new(0.3), {
                BackgroundColor3 = ColorButtonRepeat
            }):Play()
            repeatBtn.Text = "üîÅ REPEAT"
        end
    end)

    -- Progress bar modern dengan warna terang
    local progressBG = Instance.new("Frame", recordingContent)
    progressBG.Size = UDim2.new(1, 0, 0, 6)
    progressBG.Position = UDim2.new(0, 0, 0.9, 0)
    progressBG.BackgroundColor3 = Color3.fromRGB(60, 60, 80)  -- Lebih terang
    progressBG.BorderSizePixel = 0
    
    local progressCorner = Instance.new("UICorner", progressBG)
    progressCorner.CornerRadius = UDim.new(1, 0)

    local progressBar = Instance.new("Frame", progressBG)
    progressBar.Size = UDim2.new(0, 0, 1, 0)
    progressBar.Position = UDim2.new(0, 0, 0, 0)
    progressBar.BackgroundColor3 = ColorAccent
    progressBar.BorderSizePixel = 0
    
    local progressBarCorner = Instance.new("UICorner", progressBar)
    progressBarCorner.CornerRadius = UDim.new(1, 0)

    -- Replay function (sama seperti sebelumnya)
    local function replayData()
        if replaying then return end
        replaying = true
        spawn(function()
            repeat
                task.wait(2)

                if #data > 0 then
                    if not player.Character or not player.Character:FindFirstChild("HumanoidRootPart") then
                        player.CharacterAdded:Wait()
                        char = player.Character
                        humanoid = char:WaitForChild("Humanoid")
                        hrp = char:WaitForChild("HumanoidRootPart")
                    end

                    hrp.CFrame = CFrame.new(data[1].pos)
                    local startPlay = tick()
                    for i = 2, #data do
                        if not replaying then break end
                        local frame = data[i]
                        local now = tick() - startPlay
                        local waitTime = frame.time - now
                        if waitTime > 0 then task.wait(waitTime) end
                        if frame.pos then
                            if useCFrameMode then
                                hrp.CFrame = CFrame.new(frame.pos)
                            else
                                humanoid:MoveTo(frame.pos)
                            end
                        end
                        if frame.jump then
                            humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
                        end
                        local prog = i / #data
                        TweenService:Create(progressBar, TweenInfo.new(0.03), {
                            Size = UDim2.new(prog, 0, 1, 0)
                        }):Play()
                    end
                    TweenService:Create(progressBar, TweenInfo.new(0.2), {
                        Size = UDim2.new(0, 0, 1, 0)
                    }):Play()

                    if autoRespawn and player.Character:FindFirstChild("Humanoid") then
                        player.Character.Humanoid.Health = 0
                    end
                end

                if localRepeatMode and replaying then
                    if not player.Character or not player.Character:FindFirstChild("HumanoidRootPart") then
                        player.CharacterAdded:Wait()
                        char = player.Character
                        humanoid = char:WaitForChild("Humanoid")
                        hrp = char:WaitForChild("HumanoidRootPart")
                    end
                end
            until not localRepeatMode or not replaying
            replaying = false
        end)
    end

    playBtn.MouseButton1Click:Connect(function()
        replayData()
    end)
    
    delBtn.MouseButton1Click:Connect(function()
        if replaying then replaying = false end
        
        -- Animasi penghapusan
        TweenService:Create(delBtn, TweenInfo.new(0.3), {
            BackgroundColor3 = Color3.fromRGB(200, 80, 80)  -- Lebih terang
        }):Play()
        
        task.wait(0.3)
        
        for _, child in ipairs(recordingContent:GetChildren()) do
            child:Destroy()
        end
        
        local newNoRecordingLabel = Instance.new("TextLabel", recordingContent)
        newNoRecordingLabel.Size = UDim2.new(1, 0, 1, 0)
        newNoRecordingLabel.BackgroundTransparency = 1
        newNoRecordingLabel.Text = "No active recording\nClick RECORD to start capturing"
        newNoRecordingLabel.TextColor3 = Color3.fromRGB(160, 160, 180)  -- Lebih terang
        newNoRecordingLabel.Font = Enum.Font.GothamMedium
        newNoRecordingLabel.TextSize = 13  -- Lebih besar
        newNoRecordingLabel.TextWrapped = true
        
        for _, child in ipairs(savedFolder:GetChildren()) do
            if child.Name == currentRecordingName then
                child:Destroy()
                break
            end
        end
        currentRecordingName = nil
    end)
end

-- Start Recording
local function startRecording()
	recordData={}
	startTime=tick()
	recording=true
	timerRunning=true
	timerLabel.Text="00:00.00"
	spawn(runStopwatch)
	spawn(function()
		while recording do
			table.insert(recordData,{pos=hrp.Position,jump=false,time=tick()-startTime})
			task.wait(0.2)
		end
	end)
	
	TweenService:Create(recordBtn, TweenInfo.new(0.3), {
		BackgroundColor3 = ColorButtonActive
	}):Play()
	recordBtn.Text = "üî¥ RECORDING"
	
	task.wait(0.5)
	
	-- Animasi minimize
	TweenService:Create(mainFrame, TweenInfo.new(0.4), {
		Size = UDim2.new(0, 0, 0, 0)
	}):Play()
	
	task.wait(0.4)
	mainFrame.Visible = false
	miniBtn.Visible = true
	miniBtn.Text = "üî¥ RECORDING"
	TweenService:Create(miniBtn, TweenInfo.new(0.3), {
		BackgroundColor3 = ColorButtonDanger
	}):Play()
end

-- Stop Recording
local function stopRecording()
	recording=false
	timerRunning=false
	
	TweenService:Create(recordBtn, TweenInfo.new(0.3), {
		BackgroundColor3 = ColorButtonNormal
	}):Play()
	recordBtn.Text = "‚è∫Ô∏è RECORD"
	
	TweenService:Create(stopBtn, TweenInfo.new(0.3), {
		BackgroundColor3 = ColorSuccess
	}):Play()
	
	task.delay(0.4,function() 
		TweenService:Create(stopBtn, TweenInfo.new(0.3), {
			BackgroundColor3 = ColorButtonDanger
		}):Play()
	end)
	
	timerLabel.Text="00:00.00"

	miniBtn.Text = "‚è∫Ô∏è RECORDER"
	TweenService:Create(miniBtn, TweenInfo.new(0.3), {
		BackgroundColor3 = ColorButtonNormal
	}):Play()

	if #recordData>0 then
		local saveVal=Instance.new("StringValue")
		saveVal.Name="REC_"..tostring(os.time())
		saveVal.Value=HttpService:JSONEncode(recordData)
		saveVal.Parent=savedFolder

		displayRecording(recordData,saveVal.Name)
		recordData={}
	end
end

-- Load existing recording
local savedRecordings = savedFolder:GetChildren()
if #savedRecordings > 0 then
    local child = savedRecordings[1]
    if child:IsA("StringValue") then
        local success, data = pcall(function()
            return HttpService:JSONDecode(child.Value)
        end)
        if success then
            displayRecording(data, child.Name)
        end
    end
end

-- Animasi minimize/unminimize
local function minimizeGUI()
	TweenService:Create(mainFrame, TweenInfo.new(0.4), {
		Size = UDim2.new(0, 0, 0, 0)
	}):Play()
	
	task.wait(0.4)
	mainFrame.Visible = false
	miniBtn.Visible = true
end

local function unminimizeGUI()
	miniBtn.Visible = false
	mainFrame.Visible = true
	mainFrame.Size = UDim2.new(0, 0, 0, 0)
	mainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
	
	TweenService:Create(mainFrame, TweenInfo.new(0.4), {
		Size = UDim2.new(0, 320, 0, 400)
	}):Play()
end

-- Tombol connections
recordBtn.MouseButton1Click:Connect(startRecording)
stopBtn.MouseButton1Click:Connect(stopRecording)

-- FIXED: Close button connection
closeBtn.MouseButton1Click:Connect(function()
	replaying = false
	recording = false
	timerRunning = false
	
	-- Animasi close yang smooth
	TweenService:Create(mainFrame, TweenInfo.new(0.4), {
		Size = UDim2.new(0, 0, 0, 0),
		BackgroundTransparency = 1
	}):Play()
	
	TweenService:Create(shadow, TweenInfo.new(0.4), {
		BackgroundTransparency = 1
	}):Play()
	
	task.wait(0.4)
	screenGui:Destroy()
end)

hideBtn.MouseButton1Click:Connect(minimizeGUI)
miniBtn.MouseButton1Click:Connect(unminimizeGUI)

modeBtn.MouseButton1Click:Connect(function()
	useCFrameMode = not useCFrameMode
	if useCFrameMode then
		modeBtn.Text="üöÄ TELEPORT MODE"
		TweenService:Create(modeBtn, TweenInfo.new(0.3), {
			BackgroundColor3 = Color3.fromRGB(255, 170, 80)  -- Lebih terang
		}):Play()
	else
		modeBtn.Text="üö∂ WALK MODE"
		TweenService:Create(modeBtn, TweenInfo.new(0.3), {
			BackgroundColor3 = ColorButtonActive
		}):Play()
	end
end)

respawnBtn.MouseButton1Click:Connect(function()
	autoRespawn = not autoRespawn
	if autoRespawn then
		respawnBtn.Text="‚úÖ AUTO RESPAWN"
		TweenService:Create(respawnBtn, TweenInfo.new(0.3), {
			BackgroundColor3 = Color3.fromRGB(100, 180, 255)  -- Lebih terang
		}):Play()
	else
		respawnBtn.Text="‚ùå AUTO RESPAWN"
		TweenService:Create(respawnBtn, TweenInfo.new(0.3), {
			BackgroundColor3 = ColorButtonDanger
		}):Play()
	end
end)